"0","library(plotly)"
"0",""
"0","# Definindo parâmetros para a esfera maior"
"0","n_sphere <- 50"
"0","theta <- seq(0, 2 * pi, length.out = n_sphere)"
"0","phi <- seq(0, pi, length.out = n_sphere)"
"0",""
"0","# Adicionando perturbações à esfera maior"
"0","noise_sphere <- runif(n_sphere * n_sphere, min = -0.1, max = 0.1)  # Ruído para a esfera"
"0","x_sphere <- (1 + noise_sphere) * outer(cos(theta), sin(phi))  # Raio da esfera maior"
"0","y_sphere <- (1 + noise_sphere) * outer(sin(theta), sin(phi))"
"0","z_sphere <- outer(rep(1, n_sphere), cos(phi))  # Esfera maior"
"0",""
"0","# Definindo parâmetros para a esfera menor"
"0","noise_sphere_small <- runif(n_sphere * n_sphere, min = -0.05, max = 0.05)  # Ruído para a esfera menor"
"0","x_sphere_small <- (0.5 + noise_sphere_small) * outer(cos(theta), sin(phi))  # Raio da esfera menor"
"0","y_sphere_small <- (0.5 + noise_sphere_small) * outer(sin(theta), sin(phi))"
"0","z_sphere_small <- outer(rep(2, n_sphere), cos(phi))  # Esfera menor acima da maior"
"0",""
"0","# Definindo parâmetros para os círculos (anéis)"
"0","circle_radius <- 1.5"
"0","circle_theta <- seq(0, 2 * pi, length.out = 100)"
"0",""
"0","# Criar o gráfico 3D usando scatter plot"
"0","p <- plot_ly() %>%"
"0","  # Adicionar a esfera maior como pontos"
"0","  add_markers(x = as.vector(x_sphere), y = as.vector(y_sphere), z = as.vector(z_sphere),"
"0","              marker = list(size = 3, color = 'red', opacity = 0.8), name = ""Large Sphere"") %>%"
"0","  # Adicionar a esfera menor como pontos"
"0","  add_markers(x = as.vector(x_sphere_small), y = as.vector(y_sphere_small), z = as.vector(z_sphere_small),"
"0","              marker = list(size = 3, color = 'red', opacity = 0.8), name = ""Small Sphere"")"
"0",""
"0","# Criar anéis"
"0","ring_counts <- 5  # Número de anéis"
"0","for (i in 1:ring_counts) {"
"0","  radius <- circle_radius + i * 0.2  # Raio de cada anel"
"0","  z_offset <- i * 0.3  # Elevação de cada anel ao longo do eixo Z"
"0","  "
"0","  # Adicionando perturbações ao círculo"
"0","  noise_circle <- runif(length(circle_theta), min = -0.1, max = 0.1)  # Ruído para o círculo"
"0","  x_ring <- (radius + noise_circle) * cos(circle_theta)"
"0","  y_ring <- (radius + noise_circle) * sin(circle_theta)"
"0","  z_ring <- rep(z_offset, length(circle_theta))  # Anéis em diferentes alturas"
"0","  "
"0","  # Adicionar os anéis ao gráfico"
"0","  p <- p %>%"
"0","    add_markers(x = x_ring, y = y_ring, z = z_ring, "
"0","                marker = list(size = 5, color = 'red', opacity = 0.6), "
"0","                name = paste(""Ring"", i))"
"0","}"
"0",""
"0","# Configurar layout"
"0","p <- p %>%"
"0","  layout(scene = list(xaxis = list(title = ""X""),"
"0","                      yaxis = list(title = ""Y""),"
"0","                      zaxis = list(title = ""Z""),"
"0","                      camera = list("
"0","                        eye = list(x = 0.8, y = 0.8, z = 3)  # Ajustar a posição da câmera"
"0","                      ))"
"0","         # title = ""3D Sphere with Multiple Rings and a Smaller Sphere""),"
"0",")"
"0",""
"0","p"
